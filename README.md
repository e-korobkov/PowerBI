# Модель данных Power BI
Модель данных содержит (см Боевая - шаблон.pbit):
### Справочники из 1С:
- Бизнес регионы (с ключом для связи с Метрикой);
- Причины отмены Заказов покупателей;
- Контактные данные Партнеров (e-mail);
- Виды цен;
- Сотрудник, отвечающий за Партнера;
- Номенклатура;
- Виды Номенклатуры;
- Партнеры.
### Документы из 1С:
- Заказы покупателей;
- Безналичные документы исходящие;
- Счета на оплату;
- Безналичные документы входящие;
- Отчеты о розничных продажах;
- История изменения цен (медленно меняющиеся измерение);
- Отчеты о выполненной работе;
- Возвраты от покупателей;
- Реализация ТМЦ;
- Сегменты номенклатуры.
### Данные Яндекс Метрики:
- Хиты Яндекс Метрика;
- Визиты Яндекс Метрика.
### Из других систем:
- Таблица мост между Номенклатурой 1С и ссылкой на сайте (для связи с Метрикой)/

Данные загружаются из Postgres, куда ежедневно добавляются (обновляются) посредством программ написанных на Python.
 
# Описание Dashboards
## Статус
Dashboard содержит информацию о последних обновлениях.
![image](https://user-images.githubusercontent.com/107088427/174442461-6e0d3885-fa73-4c7b-863a-4bf1f332b4a8.png)

## История изменений
Dashboard содержит история изменений в рабочие области
![image](https://user-images.githubusercontent.com/107088427/174442477-00bf3721-d1d6-47bf-87d0-9cda34cd39fa.png)

## Оперативный анализ
Dashboard позволяет нацелен на оперативное отслеживание ситуации в компании
![image](https://user-images.githubusercontent.com/107088427/174442489-44102c1b-0811-4d78-942d-c035da5768a7.png)

### Реализована возможность анализа по различным параметрам:
![image](https://user-images.githubusercontent.com/107088427/174442494-359a91a4-94b8-4a4e-92d0-8e1b74287e8d.png)

## Общий анализ
Dashboard позволяет анализировать торговую деятельность в разрезе различных показателей.
![image](https://user-images.githubusercontent.com/107088427/174442504-558770a5-0194-4c38-9ecd-1bf798e4e258.png)

 
**Пояснения:**
График связывает Маркетинговую активность (Данные с Яндекс метрики) с фактическими продажами компании:
![image](https://user-images.githubusercontent.com/107088427/174442506-2368278f-d74e-4a33-b2ec-9cdc99482904.png)

 
Есть возможность «сдвинуть» продажи на дату Заказа покупателя. Для улучшения восприятия реализована возможность применения «Множителя» к данным метрики.

Также возможна расшифровка по различным показателям
![image](https://user-images.githubusercontent.com/107088427/174442519-2b15d702-e571-4e28-9a64-11086831fa16.png)


Данный график показывает «Успех» и «Неудачу» с привязкой к средней стоимости продукции.
**Расчет средней стоимости продукции реализован через «медленно меняющееся измерение». 
Кол-во успешных и неуспешных заказов приведены к виду 100%.**
![image](https://user-images.githubusercontent.com/107088427/174442539-64f5aa65-9183-4ba4-915f-077be00cd62d.png)
 
## ABC Классификация
Dashboard представляет из себя АВС анализ с применением различных фильтров.
![image](https://user-images.githubusercontent.com/107088427/174442552-95c7c7d6-d159-4bbf-82b8-3af796191d57.png)

Реализована возможность применения различных фильтров
![image](https://user-images.githubusercontent.com/107088427/174442571-92bf5206-fc8f-407d-ac7c-eaef76945dfc.png)

**АВС анализ имеет особенность расчета, а именно: объем продаж рассчитан на стоимости товара, приведенной к первому использованию.**

## Динамика по сегментам
Dashboard содержит «стандартные» показатели крупным планом с возможность расшифровки по сегментам номенклатуры.
![image](https://user-images.githubusercontent.com/107088427/174442594-98497fa2-263d-4643-9598-2bb16438f14b.png)
 
## Анализ покупательской корзины (в разработке)
Dashboard представляет из себя шаблонное решение по анализу покупательской корзины.
![image](https://user-images.githubusercontent.com/107088427/174442602-0ef921c5-a276-4f52-ae75-ea6e21d5f088.png)
 
# Видимые пути развития
- Добавить данные из Yandex Direct (Dag Airflow уже тестируется):https://github.com/e-korobkov/YandexDirect.git – позволит определить оптимальную стратегию показов (в разрезе регионов, товарных групп);
- Добавить данные о входящих/исходящих звонках – позволит оценить необходимый стиль работы / выявить причины снижения продаж;
- Добавить данные о входящих/исходящих email (сбор данных уже ведется, программа написана Python) – позволит оценить необходимый стиль работы / выявить причины снижения продаж;
- Анализировать поисковую выдачу Яндекс, Google. Для этого воспользоваться API https://online.seranking.com (к примеру) – позволит создать «глобальную» аналитическую модель действия конкурентов в сети интернет, и выстроить эффективное противодействие;
- Добавить прогнозирование Успех/Не успех для Заказа покупателя (Forecast модель разрабатывалась на Python) – позволит оптимизировать Закупочную стратегию;
- Добавить кластеры Партнеров (кластеризация Партнеров проводилась на Python + есть черновая BI модель с кластерами).
